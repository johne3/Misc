@model ECommerce.Domain.Entities.Product

@{
    ViewBag.Title = "Details : " + Model.Name;
}

<div class="detailsColumn1">
    @if ((Model.Pictures != null && Model.Pictures.Count > 0))
    {
        <div class="jcarousel-wrapper">
            <div class="jcarousel">
                <ul>
                    @foreach (var picture in Model.Pictures)
                    {
                        <li><img src="@Url.Content(picture.ImagePath)" alt=""/></li>
                    }
                    @foreach (var video in Model.Videos)
                    {
                        <li><iframe width="600" height="375" src="@video.Source"></iframe></li>
                    }
                </ul>
            </div>

            @*<a href="#" class="jcarousel-control-prev">&lsaquo;</a>
        <a href="#" class="jcarousel-control-next">&rsaquo;</a>*@

            <p class="jcarousel-pagination">
            </p>
        </div>
    }
</div>


<div class="detailsColumn2">

    <h2>@Model.Name</h2>

    @*<img width="133" height="75" src="@Url.Action("GetImage", "Product", new { Model.ProductId })"/>*@

    @*@if (Model.Thumbnail != null && !string.IsNullOrWhiteSpace(Model.Thumbnail.ImagePath))
    {
        <img width="133" height="75" src="@Url.Content(Model.Thumbnail.ImagePath)" />
    }*@

    <h3>@Model.Description</h3>

    <h4>@Model.Price.ToString("c")</h4>

    @using (Html.BeginForm("AddToCart", "Cart"))
    {
        @Html.HiddenFor(x => x.ProductId)
        @Html.Hidden("returnUrl", Request.Url.PathAndQuery)
        <input type="submit" value="+ Add to cart" />
    }

</div>


@section scripts
{
    @*<script src="~/Scripts/jcarousel/jquery.jcarousel.min.js" type="text/javascript"></script>*@
    <script src="~/Scripts/jcarousel/jquery.jcarousel.min.js" type="text/javascript"></script>
    <script src="~/Scripts/jcarousel/jcarousel.basic.js" type="text/javascript"></script>
    <script src="~/Scripts/jquery-1.8.2.js" type="text/javascript"></script>
    <script type="text/javascript">
        //$(document).ready(function() {
        //    //jCarousel Plugin
        //    $('#jcarousel').jcarousel({
        //        vertical: false, //orientation of the carousel, in this case we use vertical
        //        scroll: 1, //the number of items to scroll by
        //        auto: 2, //the interval of scrolling
        //        wrap: 'last' //wrap at last item and jump back to the start
        //        //initCallback: mycarousel_initCallback //we will use this to further enhance the behavior of this carousel
        //    });
        //});
      

    </script>
}
